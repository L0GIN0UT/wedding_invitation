# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö - Wedding Invitation

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫

```
DataBase/
‚îú‚îÄ‚îÄ data/                    # –î–∞–Ω–Ω—ã–µ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ guests.json         # –°–ø–∏—Å–æ–∫ –≥–æ—Å—Ç–µ–π –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
‚îú‚îÄ‚îÄ migrations/             # SQL –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ init.sql           # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º—ã –ë–î
‚îú‚îÄ‚îÄ scripts/                # Python —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ import_guests.py   # –°–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞ –≥–æ—Å—Ç–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ 02-import_guests.sh # Shell —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ docker/                 # Docker —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile.init    # Dockerfile –¥–ª—è PostgreSQL —Å Python
‚îú‚îÄ‚îÄ requirements.txt        # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md              # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã:

1. **sex** - –ü–æ–ª (male, female)
2. **guests** - –ì–æ—Å—Ç–∏ (–æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞)
3. **food_preferences** - –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ –µ–¥–µ
4. **alcohol_preferences** - –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ –∞–ª–∫–æ–≥–æ–ª—é (JSONB –º–∞—Å—Å–∏–≤)
5. **allergies** - –ê–ª–ª–µ—Ä–≥–∏–∏
6. **wishlist** - –°–ø–∏—Å–æ–∫ –∂–µ–ª–∞–Ω–∏–π

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ PostgreSQL:

1. ‚úÖ –°–æ–∑–¥–∞—é—Ç—Å—è –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã (`migrations/init.sql`)
2. ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≥–æ—Å—Ç–∏ –∏–∑ `data/guests.json` (`scripts/02-import_guests.sh` ‚Üí `scripts/import_guests.py`)

## üîß –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –∏–º–ø–æ—Ä—Ç–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Å—Ç–µ–π –≤—Ä—É—á–Ω—É—é:

```bash
# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker exec -it wedding_postgres bash

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞
python3 /docker-entrypoint-initdb.d/02-import_guests.py
```

–ò–ª–∏ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python –∏ psycopg2):

```bash
cd Source/DataBase/scripts
python3 import_guests.py
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –°–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (ON CONFLICT)
- –ì–æ—Å—Ç–∏ –±–µ–∑ –∏–º–µ–Ω–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è
- UUID –¥–ª—è –ø–æ–ª–æ–≤ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ `migrations/init.sql`
